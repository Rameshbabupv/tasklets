import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from 'react';
import ReactMarkdown from 'react-markdown';
import remarkGfm from 'remark-gfm';
export default function MarkdownEditor({ value, onChange, label, placeholder = 'Enter markdown...', height = 200 }) {
    const [showPreview, setShowPreview] = useState(false);
    return (_jsxs("div", { children: [label && (_jsx("label", { className: "block text-sm font-medium mb-2", style: { color: 'var(--text-primary)' }, children: label })), _jsx("div", { className: "rounded-lg border overflow-hidden", style: { borderColor: 'var(--border-primary)' }, children: !showPreview ? (_jsxs("div", { className: "relative", children: [_jsx("textarea", { value: value, onChange: (e) => onChange(e.target.value), placeholder: placeholder, className: "w-full px-4 py-3 focus:outline-none focus:ring-2 focus:ring-primary/50 resize-none font-mono text-sm leading-relaxed", style: { backgroundColor: 'var(--bg-primary)', color: 'var(--text-primary)', height: `${height}px` } }), _jsx("div", { className: "absolute bottom-2 right-2 text-xs px-2 py-1 rounded", style: { backgroundColor: 'var(--bg-card)', color: 'var(--text-secondary)' }, children: "Markdown supported" })] })) : (_jsx("div", { className: "p-4 prose prose-sm max-w-none dark:prose-invert overflow-auto", style: { backgroundColor: 'var(--bg-primary)', color: 'var(--text-secondary)', minHeight: `${height}px` }, children: value ? (_jsx(ReactMarkdown, { remarkPlugins: [remarkGfm], children: value })) : (_jsx("p", { className: "italic", style: { color: 'var(--text-secondary)' }, children: "No content" })) })) }), _jsxs("button", { onClick: () => setShowPreview(!showPreview), className: "mt-2 text-sm font-medium hover:text-primary transition-colors flex items-center gap-1", style: { color: 'var(--text-secondary)' }, children: [_jsx("span", { className: "material-symbols-outlined text-[16px]", children: showPreview ? 'edit' : 'visibility' }), showPreview ? 'Edit Mode' : 'Preview Mode'] })] }));
}
