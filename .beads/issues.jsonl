{"id":"tsklets-0sq","title":"Session Management \u0026 Token Refresh","description":"Implement token refresh mechanism. Handle token expiration gracefully. Support logout (token invalidation). Consider refresh token pattern for better security and UX.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-27T12:41:30.232457-05:00","updated_at":"2025-12-27T12:41:30.232457-05:00","dependencies":[{"issue_id":"tsklets-0sq","depends_on_id":"tsklets-8he","type":"blocks","created_at":"2025-12-27T12:41:44.833453-05:00","created_by":"daemon"},{"issue_id":"tsklets-0sq","depends_on_id":"tsklets-cbt","type":"blocks","created_at":"2025-12-27T12:41:58.220475-05:00","created_by":"daemon"}]}
{"id":"tsklets-1ea","title":"Client Portal: Company Dashboard \u0026 Changelog","description":"Company-wide dashboard vision with audit trail.\n\nBackend:\n- [ ] Modify GET /api/tickets to return all company tickets (not just user's own)\n- [ ] Create ticketAuditLog table (id, ticketId, changeType, userId, oldValue, newValue, metadata, createdAt)\n- [ ] Add GET /api/tickets/:id/changelog endpoint\n- [ ] Modify PATCH /api/tickets/:id to log changes to audit table\n\nFrontend:\n- [ ] Update Dashboard.tsx - company-oriented welcome instead of user-specific\n- [ ] Integrate TicketDetailTabs with Changelog tab (components already created)\n- [ ] Add attachment upload UI on existing tickets in TicketDetail\n\nDesign files ready: TicketChangelog.tsx, TicketDetailTabs.tsx","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-01T12:07:50.514477-05:00","updated_at":"2026-01-01T12:26:01.022721-05:00","closed_at":"2026-01-01T12:26:01.022721-05:00","close_reason":"Implementation complete - company dashboard with changelog and attachment upload"}
{"id":"tsklets-2pf","title":"SLA Tracking \u0026 Notifications","description":"SLA monitoring based on customer tier, automated alerts, email notifications for tickets and status changes. Includes response and resolution time tracking.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-27T12:39:05.060067-05:00","updated_at":"2025-12-27T12:39:05.060067-05:00"}
{"id":"tsklets-2ve","title":"Gatekeeper \u0026 Integrator Triage Workflow","description":"Client-side gatekeeper vetting and owner-side integrator triage. Includes approval/rejection flows, internal priority setting, and assignment to support team.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-27T12:39:04.235459-05:00","updated_at":"2025-12-27T12:39:04.235459-05:00"}
{"id":"tsklets-3ss","title":"Multi-Tenant Ticket Management","description":"Core ticket CRUD with screenshots, dual priority/severity (client vs internal), product selection, status tracking. Includes tenant isolation and basic ticket lifecycle.","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-27T12:39:03.133991-05:00","updated_at":"2025-12-27T12:39:03.133991-05:00"}
{"id":"tsklets-400","title":"Backend - Schema, API \u0026 Permissions","description":"Backend infrastructure for client internal triage system.\n\nSubtasks:\n- [ ] Add `pending_internal_review`, `rebuttal` to status enum\n- [ ] Add new labels to seed data (escalated, resolved_internally, auto_closed_no_response, internal_assignment, created_by_systech, reassigned_to_internal)\n- [ ] Add escalation_reasons lookup table (executive_request, production_down, compliance, customer_impact, other)\n- [ ] Add escalation_reason + escalation_note fields to tickets table\n- [ ] Update ticket permissions (who can close, push, etc.)\n- [ ] API: POST /tickets/:id/push-to-systech\n- [ ] API: POST /tickets/:id/escalate (with reason required)\n- [ ] API: POST /tickets/:id/assign-internal\n- [ ] API: POST /tickets/:id/reassign-to-internal (Systech only)\n- [ ] Cron: Auto-close after 5 days resolved/waiting_for_customer\n\nWatchers Feature:\n- [ ] Create ticket_watchers table (ticket_id, user_id nullable, email, added_by, created_at)\n- [ ] API: POST /tickets/:id/watchers (add watcher - user or email)\n- [ ] API: DELETE /tickets/:id/watchers/:id (remove watcher)\n- [ ] API: GET /tickets/:id/watchers (list watchers)\n- [ ] Permissions: Company_admin adds same-company users or emails; Systech users add themselves; any user adds self\n\nAcceptance Criteria:\n- New statuses available in schema\n- Labels seeded in database\n- Escalation reasons seeded\n- Permissions enforced at API level\n- Cron job runs daily\n- Watchers tracked per ticket (notifications deferred)","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-31T15:19:21.331575-05:00","updated_at":"2025-12-31T16:03:54.006232-05:00","closed_at":"2025-12-31T16:03:54.006232-05:00","close_reason":"Backend triage system complete: schema, APIs, cron","dependencies":[{"issue_id":"tsklets-400","depends_on_id":"tsklets-gnl","type":"blocks","created_at":"2025-12-31T15:19:47.545165-05:00","created_by":"rameshbabu"}]}
{"id":"tsklets-4rp","title":"Protected Routes \u0026 Auth Guards","description":"Create auth middleware to verify JWT on protected routes. Handle missing/invalid/expired tokens. Return appropriate 401/403 errors. Support both client and internal portal routes.","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-27T12:41:29.144715-05:00","updated_at":"2025-12-27T12:41:29.144715-05:00","dependencies":[{"issue_id":"tsklets-4rp","depends_on_id":"tsklets-8he","type":"blocks","created_at":"2025-12-27T12:41:44.77099-05:00","created_by":"daemon"},{"issue_id":"tsklets-4rp","depends_on_id":"tsklets-cbt","type":"blocks","created_at":"2025-12-27T12:41:56.56641-05:00","created_by":"daemon"},{"issue_id":"tsklets-4rp","depends_on_id":"tsklets-af1","type":"blocks","created_at":"2025-12-27T12:41:57.364828-05:00","created_by":"daemon"}]}
{"id":"tsklets-4tj","title":"Multi-Tenant Isolation \u0026 Tenant Resolution","description":"Extract tenant_id from JWT payload. Auto-inject tenant_id in all queries via middleware. Enforce is_owner=true for SysTech (see all tenants) vs is_owner=false for clients (scoped to own tenant). Prevent cross-tenant data leaks.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-27T12:41:27.065386-05:00","updated_at":"2025-12-27T12:41:27.065386-05:00","dependencies":[{"issue_id":"tsklets-4tj","depends_on_id":"tsklets-8he","type":"blocks","created_at":"2025-12-27T12:41:44.646837-05:00","created_by":"daemon"}]}
{"id":"tsklets-8cz","title":"Client Portal Mobile-First Improvements \u0026 File Upload Enhancement","description":"Transform client portal to mobile-first responsive design with enhanced file upload capabilities. Remove confusing draft features, fix broken navigation, add My Tickets page with filters, and support video uploads + cloud storage links for large files.\n\nKey Goals:\n- Mobile-first responsive design across all pages\n- Enhanced file upload (screenshots, videos, cloud links)\n- My Tickets page with filters and search\n- Fix critical navigation issues\n- Remove non-functional draft button\n\nTarget Users: External customers (client users, company admins)\nPlatform: React + Tailwind + Framer Motion\nPriority: P0 (Critical UX improvements)","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-28T10:18:41.478081-05:00","updated_at":"2025-12-28T10:18:41.478081-05:00","labels":["client-portal","mobile-first","ux-improvement"]}
{"id":"tsklets-8he","title":"Authentication \u0026 Authorization System","description":"Complete auth system with signup, signin, JWT, role-based access control, and multi-tenant isolation. Supports both client-side and owner-side users with different permission levels.","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-27T12:39:02.144619-05:00","updated_at":"2025-12-27T12:39:02.144619-05:00"}
{"id":"tsklets-9a9","title":"Mobile-First New Ticket Form Redesign","description":"Redesign New Ticket form with mobile-first approach for better usability on smartphones.\n\nCurrent Issues:\n- Multi-column layout cramped on mobile\n- Small input fields and buttons\n- File upload area not touch-friendly\n- Modal on mobile covers entire screen awkwardly\n\nMobile-First Design (320px - 767px):\nSubtasks:\n□ Single column layout for all form fields\n□ Full-width input fields (min 44px height)\n□ Larger touch-friendly buttons (min 44px height)\n□ Bottom sheet style on mobile (slides up from bottom)\n□ Sticky header with title and close button\n□ Floating submit button at bottom (always visible)\n□ Auto-growing textarea for description\n□ Native select dropdowns on mobile (better UX than custom)\n□ Touch-friendly file upload zone (large tap area)\n□ Show file previews in horizontal scrollable row\n□ Keyboard-aware form (input doesn't hide behind keyboard)\n□ Clear validation error messages below each field\n\nTablet Design (768px - 1023px):\n□ Still single column but wider max-width (600px)\n□ Larger spacing and padding\n□ Side-by-side for Priority and Severity selects\n\nDesktop Design (1024px+):\n□ Two-column layout for some fields\n□ Modal centered on screen (current behavior)\n□ Hover states and mouse interactions\n\nForm Fields Order (Mobile-First):\n1. Product Selection (if multiple products)\n2. Subject (required)\n3. Description (required, expandable)\n4. Priority (P1-P4)\n5. Severity (S1-S4)\n6. File Attachments (images + videos)\n7. Large File Link (optional)\n8. Submit Button (sticky at bottom on mobile)\n\nTouch Interactions:\n- Tap input → keyboard appears, form scrolls input into view\n- Tap outside modal on mobile → confirmation before closing\n- Swipe down on mobile header → close with confirmation\n- Tap file card → remove file (with confirmation)\n\nValidation UX:\n- Show errors inline below field\n- Scroll to first error on submit\n- Clear error when user starts typing\n- Success feedback after submission\n\nFiles to Modify:\n- frontend-tsklets/client/src/pages/NewTicket.tsx\n- frontend-tsklets/client/src/components/NewTicketModal.tsx (consolidate logic)\n\nMobile-Specific Styles:\n- Bottom sheet animation (slide up)\n- Backdrop blur with touch-to-dismiss\n- iOS safe area handling (notch support)\n- Android navigation bar spacing\n\nAcceptance Criteria:\n- Form works perfectly on 320px screens\n- All inputs minimum 44px height\n- Submit button always accessible (sticky on mobile)\n- Keyboard doesn't hide input fields\n- File upload is touch-friendly\n- Validation errors clear and helpful\n- Smooth animations on mobile\n- iOS and Android tested\n- No horizontal scroll\n\nEstimated Time: 5 hours","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-28T10:22:32.697021-05:00","updated_at":"2025-12-28T10:51:10.668219-05:00","closed_at":"2025-12-28T10:51:10.668219-05:00","close_reason":"NewTicket form has been redesigned with mobile-first approach: single column layout, touch-friendly file upload with drag-drop, 44px min touch targets, better validation messages, file type icons, responsive grid. Core mobile-first improvements complete.","labels":["client-portal","forms","mobile-first"],"dependencies":[{"issue_id":"tsklets-9a9","depends_on_id":"tsklets-ypa","type":"blocks","created_at":"2025-12-28T10:22:58.600298-05:00","created_by":"daemon"}]}
{"id":"tsklets-9cg","title":"Create My Tickets Page Route and Component","description":"Create the /tickets route and MyTickets page component with basic ticket list display.\n\nSubtasks:\n□ Create new file: frontend-tsklets/client/src/pages/MyTickets.tsx\n□ Add route to App.tsx: \u003cRoute path=\"/tickets\" element={\u003cPrivateRoute\u003e\u003cMyTickets /\u003e\u003c/PrivateRoute\u003e} /\u003e\n□ Import necessary dependencies (useState, useEffect, useAuthStore, Link)\n□ Create page layout with header 'My Tickets'\n□ Fetch tickets from GET /api/tickets endpoint\n□ Display tickets in table/card layout (mobile-first)\n□ Show loading state while fetching\n□ Show empty state when no tickets\n□ Add error handling with toast notifications\n□ Implement ticket row click to navigate to /tickets/:id\n\nTable Columns:\n- Issue Key (e.g., TSKLTS-T001)\n- Subject\n- Status (badge with color)\n- Priority (badge)\n- Created Date (formatted)\n- Action (View button)\n\nMobile Card Format:\n- Issue Key + Status badge (top)\n- Subject (bold, larger font)\n- Priority + Created date (bottom)\n- Tap entire card to open\n\nFiles to Create:\n- frontend-tsklets/client/src/pages/MyTickets.tsx\n\nFiles to Modify:\n- frontend-tsklets/client/src/App.tsx\n\nAcceptance Criteria:\n- /tickets route accessible and protected\n- Tickets display in table on desktop\n- Tickets display as cards on mobile\n- Loading state shows while fetching\n- Empty state shows when no tickets\n- Clicking ticket navigates to detail page\n- Responsive on all breakpoints\n\nEstimated Time: 2 hours","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-28T10:20:22.493884-05:00","updated_at":"2025-12-28T10:35:54.942358-05:00","closed_at":"2025-12-28T10:35:54.942358-05:00","close_reason":"Closed","labels":["client-portal","mobile-first"],"dependencies":[{"issue_id":"tsklets-9cg","depends_on_id":"tsklets-y7s","type":"blocks","created_at":"2025-12-28T10:20:36.796287-05:00","created_by":"daemon"}]}
{"id":"tsklets-9tp","title":"Mobile-First Dashboard Redesign","description":"Redesign Dashboard page using mobile-first approach with optimized layout and touch interactions.\n\nCurrent Issues:\n- Desktop-first design doesn't adapt well to mobile\n- Small tap targets on mobile\n- Cards too wide/narrow on different screens\n- Statistics not easily scannable on mobile\n\nMobile-First Design (320px - 767px):\nSubtasks:\n□ Stack stat cards vertically (1 column)\n□ Increase font sizes for readability (min 16px body)\n□ Increase tap targets to min 44px × 44px\n□ Bottom-aligned navigation/actions\n□ Sticky header with user info and logout\n□ Swipeable stat cards (carousel alternative)\n□ Recent tickets as cards (not table)\n□ Touch-friendly spacing (min 16px between elements)\n□ Optimize for one-handed use (important actions at bottom)\n\nTablet Design (768px - 1023px):\n□ 2-column stat card grid\n□ Recent tickets as cards (2 columns)\n□ Larger touch targets maintained\n□ Side-by-side quick actions\n\nDesktop Design (1024px+):\n□ 4-column stat card grid\n□ Recent tickets as table\n□ Hover states and mouse interactions\n□ More information density\n\nResponsive Components:\n- StatCard: Adapts padding and font sizes\n- ModuleCard: Touch-friendly on mobile, hover on desktop  \n- Recent tickets: Cards on mobile, table on desktop\n- User header: Collapsed on mobile, full on desktop\n\nTailwind Strategy:\n- Base styles: Mobile (320px)\n- sm: (640px) Small tablets\n- md: (768px) Tablets\n- lg: (1024px) Desktop\n\nFiles to Modify:\n- frontend-tsklets/client/src/pages/Dashboard.tsx\n- frontend-tsklets/client/src/components/StatCard.tsx\n- frontend-tsklets/client/src/components/ModuleCard.tsx\n\nCSS Variables for Touch Targets:\n- --touch-target-min: 44px\n- --spacing-mobile: 16px\n- --spacing-desktop: 24px\n\nAcceptance Criteria:\n- Dashboard looks great on 320px (iPhone SE)\n- Tap targets minimum 44px on mobile\n- Smooth transitions between breakpoints\n- Stats readable and scannable on all devices\n- Recent tickets optimized for each screen size\n- Performance: Fast render on mobile devices\n- No horizontal scroll on any screen size\n\nEstimated Time: 4 hours","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-28T10:22:08.295178-05:00","updated_at":"2025-12-28T10:50:21.790879-05:00","closed_at":"2025-12-28T10:50:21.790879-05:00","close_reason":"Closed","labels":["client-portal","dashboard","mobile-first"],"dependencies":[{"issue_id":"tsklets-9tp","depends_on_id":"tsklets-ypa","type":"blocks","created_at":"2025-12-28T10:22:32.626931-05:00","created_by":"daemon"}]}
{"id":"tsklets-aal","title":"Add Video File Type Support","description":"Expand file upload to support video file formats with preview functionality.\n\nCurrent Limitation:\n- Only images allowed: .png, .jpg, .jpeg, .gif\n- File validation rejects videos\n\nNew Video Support:\n- Formats: .mp4, .mov, .webm, .avi, .mkv\n- Max size: 10MB per video file\n- Video thumbnail preview before upload\n- Display video player icon in attachment grid\n- Click to play video inline or in modal\n\nSubtasks:\n□ Update ACCEPTED_FILE_TYPES array in NewTicket.tsx\n□ Add video MIME types: video/mp4, video/quicktime, video/webm, video/x-msvideo\n□ Update file validation logic to accept videos\n□ Increase max file size from 5MB to 10MB\n□ Create video preview component (show first frame or play icon)\n□ Update attachment grid to show video player icon\n□ Add click handler to play video in modal or inline\n□ Update backend schema if needed (attachmentType field)\n□ Test video upload end-to-end\n□ Handle video loading states and errors\n\nVideo Preview Options:\nOption 1: Show video player icon overlay on black thumbnail\nOption 2: Extract first frame as thumbnail (requires canvas API)\nOption 3: Use browser's video element with poster attribute\n\nFiles to Modify:\n- frontend-tsklets/client/src/pages/NewTicket.tsx\n- frontend-tsklets/client/src/pages/TicketDetail.tsx\n- frontend-tsklets/client/src/components/ImageModal.tsx (rename to MediaModal?)\n\nBackend (if needed):\n- backend-tsklets/api/src/routes/tickets.ts (validation)\n- backend-tsklets/api/src/db/schema.ts (attachmentType field)\n\nAcceptance Criteria:\n- Videos can be uploaded (.mp4, .mov, .webm, .avi)\n- File size limit increased to 10MB\n- Video preview shows in attachment grid\n- Videos can be played in modal viewer\n- Error handling for unsupported formats\n- Mobile video playback works correctly\n\nEstimated Time: 3 hours","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-28T10:21:10.692858-05:00","updated_at":"2025-12-28T10:44:47.99862-05:00","closed_at":"2025-12-28T10:44:47.99862-05:00","close_reason":"Closed","labels":["client-portal","file-upload","video"],"dependencies":[{"issue_id":"tsklets-aal","depends_on_id":"tsklets-ehb","type":"blocks","created_at":"2025-12-28T10:21:28.860921-05:00","created_by":"daemon"}]}
{"id":"tsklets-af1","title":"Role-Based Access Control (RBAC) Middleware","description":"Implement middleware to check user roles and permissions. Support roles: user, gatekeeper, company_admin, approver, integrator, support, developer, ceo, admin. Protect routes based on role requirements.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-27T12:41:25.704717-05:00","updated_at":"2025-12-27T12:41:25.704717-05:00","dependencies":[{"issue_id":"tsklets-af1","depends_on_id":"tsklets-8he","type":"blocks","created_at":"2025-12-27T12:41:44.584014-05:00","created_by":"daemon"},{"issue_id":"tsklets-af1","depends_on_id":"tsklets-cbt","type":"blocks","created_at":"2025-12-27T12:41:55.42104-05:00","created_by":"daemon"}]}
{"id":"tsklets-alk","title":"Feature Request \u0026 Quote Management","description":"Feature request submission, CEO quote creation, approver workflow with revisions, auto-creation of beads epic on approval. Full negotiation history tracking.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-27T12:39:05.749264-05:00","updated_at":"2025-12-27T12:39:05.749264-05:00"}
{"id":"tsklets-bcx","title":"Password Security \u0026 Hashing","description":"Implement bcrypt password hashing with appropriate salt rounds. Secure password comparison. Password strength validation (min length, complexity). Store hashed passwords only, never plaintext.","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-27T12:41:27.809905-05:00","updated_at":"2025-12-27T12:41:27.809905-05:00","dependencies":[{"issue_id":"tsklets-bcx","depends_on_id":"tsklets-8he","type":"blocks","created_at":"2025-12-27T12:41:44.708957-05:00","created_by":"daemon"}]}
{"id":"tsklets-bwo","title":"Cross-Device Testing and Performance Optimization","description":"Comprehensive testing and optimization of client portal across all devices and screen sizes.\n\nSubtasks:\n\nDEVICE TESTING:\n□ iPhone SE (320px × 568px) - Portrait\n□ iPhone 13 (390px × 844px) - Portrait and Landscape\n□ iPhone 13 Pro Max (428px × 926px) - Portrait\n□ iPad Mini (768px × 1024px) - Portrait and Landscape\n□ iPad Pro 12.9\" (1024px × 1366px) - Portrait and Landscape\n□ Samsung Galaxy S21 (360px × 800px) - Portrait\n□ Desktop 1080p (1920px × 1080px)\n□ Desktop 4K (3840px × 2160px)\n\nBROWSER TESTING:\n□ Safari Mobile (iOS)\n□ Chrome Mobile (Android)\n□ Safari Desktop (macOS)\n□ Chrome Desktop (Windows, macOS, Linux)\n□ Firefox Desktop\n□ Edge Desktop\n\nFUNCTIONALITY TESTING:\n□ Dashboard: Stats, quick actions, recent tickets\n□ My Tickets: List, filters, search, pagination\n□ New Ticket: Form fields, validation, file upload, submission\n□ Ticket Detail: Comments, attachments, actions\n□ Navigation: All links work, back buttons, breadcrumbs\n□ Authentication: Login, logout, session persistence\n□ Theme: Dark mode toggle works on all pages\n□ Responsive: Smooth transitions between breakpoints\n\nPERFORMANCE OPTIMIZATION:\n□ Lighthouse audit on mobile (target: 90+ performance score)\n□ Lighthouse audit on desktop (target: 95+ performance score)\n□ Core Web Vitals: LCP \u003c 2.5s, FID \u003c 100ms, CLS \u003c 0.1\n□ Image optimization: Compress images, lazy loading\n□ Code splitting: Split large components into chunks\n□ Bundle size analysis: Check for large dependencies\n□ Remove unused CSS and JavaScript\n□ Optimize fonts: Use woff2, font-display: swap\n□ Minimize re-renders: React.memo where needed\n□ API call optimization: Debounce, caching\n\nTOUCH INTERACTION TESTING:\n□ All buttons minimum 44px × 44px tap targets\n□ Swipe gestures work (attachment gallery, etc.)\n□ Pinch-to-zoom works on images/videos\n□ Long-press actions work (copy, etc.)\n□ Touch feedback (visual state change on tap)\n□ No accidental taps (proper spacing)\n\nKEYBOARD \u0026 ACCESSIBILITY:\n□ Tab navigation works through all forms\n□ Enter key submits forms\n□ Escape key closes modals\n□ Screen reader announces page changes\n□ ARIA labels on all interactive elements\n□ Focus indicators visible\n□ Color contrast meets WCAG AA standards\n\nEDGE CASES:\n□ No tickets (empty state)\n□ No internet connection (offline handling)\n□ Slow network (3G simulation)\n□ Very long ticket titles/descriptions\n□ Many attachments (10+ files)\n□ Large images (5MB+)\n□ API errors (show friendly messages)\n□ Session timeout (redirect to login)\n\nBUG FIXES:\n□ Document all bugs found during testing\n□ Prioritize bugs (P0: blocking, P1: high, P2: medium, P3: low)\n□ Fix P0 and P1 bugs before deployment\n□ Create separate tasks for P2/P3 bugs\n\nDOCUMENTATION:\n□ Update README with mobile-first approach\n□ Document breakpoint strategy\n□ List tested devices and browsers\n□ Performance optimization techniques used\n□ Known issues and workarounds\n\nTools to Use:\n- Chrome DevTools Device Toolbar\n- BrowserStack for real device testing\n- Lighthouse for performance audits\n- WebPageTest for detailed performance analysis\n- React DevTools for component profiling\n\nAcceptance Criteria:\n- All pages work on iPhone SE (smallest target)\n- Lighthouse mobile score \u003e 90\n- Lighthouse desktop score \u003e 95\n- No console errors or warnings\n- All touch targets minimum 44px\n- Smooth 60fps animations\n- Accessible to screen readers\n- Works on Safari, Chrome, Firefox, Edge\n- All edge cases handled gracefully\n- Known issues documented\n\nEstimated Time: 8 hours","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-28T10:23:24.272091-05:00","updated_at":"2025-12-28T10:23:24.272091-05:00","labels":["client-portal","performance","qa","testing"],"dependencies":[{"issue_id":"tsklets-bwo","depends_on_id":"tsklets-ypa","type":"blocks","created_at":"2025-12-28T10:24:43.919562-05:00","created_by":"daemon"}]}
{"id":"tsklets-cbt","title":"User Signup \u0026 Signin with JWT","description":"Implement user registration and login endpoints. Generate and return JWT tokens with tenant_id and is_owner claims. Hash passwords with bcrypt. Validate email format and password strength.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-27T12:41:24.39011-05:00","updated_at":"2025-12-27T12:41:24.39011-05:00","dependencies":[{"issue_id":"tsklets-cbt","depends_on_id":"tsklets-8he","type":"blocks","created_at":"2025-12-27T12:41:44.520183-05:00","created_by":"daemon"},{"issue_id":"tsklets-cbt","depends_on_id":"tsklets-bcx","type":"blocks","created_at":"2025-12-27T12:41:54.370044-05:00","created_by":"daemon"}]}
{"id":"tsklets-cbt.1","title":"UC01: Valid User Signup with Email \u0026 Password","description":"User scenario: New user signs up with valid email and password, receives JWT token. Acceptance: Returns 201 status, creates user in DB, returns valid JWT with tenant_id and user claims.","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-27T12:50:26.060016-05:00","updated_at":"2025-12-27T12:50:26.060016-05:00","labels":["use-case"],"dependencies":[{"issue_id":"tsklets-cbt.1","depends_on_id":"tsklets-cbt","type":"parent-child","created_at":"2025-12-27T12:50:26.06272-05:00","created_by":"daemon"}]}
{"id":"tsklets-cbt.1.1","title":"Create User model in Drizzle schema","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-27T12:50:34.935228-05:00","updated_at":"2025-12-27T12:50:34.935228-05:00","dependencies":[{"issue_id":"tsklets-cbt.1.1","depends_on_id":"tsklets-cbt.1","type":"parent-child","created_at":"2025-12-27T12:50:34.936909-05:00","created_by":"daemon"}]}
{"id":"tsklets-cbt.1.2","title":"Implement POST /api/auth/signup endpoint","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-27T12:50:35.832728-05:00","updated_at":"2025-12-27T12:50:35.832728-05:00","dependencies":[{"issue_id":"tsklets-cbt.1.2","depends_on_id":"tsklets-cbt.1","type":"parent-child","created_at":"2025-12-27T12:50:35.834339-05:00","created_by":"daemon"}]}
{"id":"tsklets-cbt.1.3","title":"Generate JWT token on successful signup","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-27T12:50:36.916899-05:00","updated_at":"2025-12-27T12:50:36.916899-05:00","dependencies":[{"issue_id":"tsklets-cbt.1.3","depends_on_id":"tsklets-cbt.1","type":"parent-child","created_at":"2025-12-27T12:50:36.918652-05:00","created_by":"daemon"}]}
{"id":"tsklets-cbt.1.4","title":"Test valid signup flow returns 201 + JWT","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-27T12:50:39.360738-05:00","updated_at":"2025-12-27T12:50:39.360738-05:00","labels":["test"],"dependencies":[{"issue_id":"tsklets-cbt.1.4","depends_on_id":"tsklets-cbt.1","type":"parent-child","created_at":"2025-12-27T12:50:39.362686-05:00","created_by":"daemon"}]}
{"id":"tsklets-cue","title":"Company Admin Portal - User Management \u0026 Enhanced Permissions","description":"Enable company admins to manage users, reset passwords, view all company tickets, and submit feature requests with proper security and workflow.\n\nKey Features:\n1. User Management - Company admins create users, assign to products, reset passwords\n2. Password Security - Force password change on first login, 8 char + complexity rules\n3. Enhanced Visibility - Company admins see ALL company tickets (not just their own)\n4. Feature Requests - Special ticket type with vetting/quote/agreement workflow\n\nUser Roles:\n- company_admin: Can create 'user' and 'company_admin' roles\n- user: Regular company users, see only their tickets\n\nPassword Rules:\n- Minimum 8 characters\n- At least 1 uppercase, 1 lowercase, 1 number, 1 special character\n- Default reset password: Systech@123\n- Force change on first login or after reset\n\nTarget: Client Portal (customer-facing)\nPriority: P0 (Security \u0026 core client functionality)","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-28T11:09:21.427706-05:00","updated_at":"2025-12-28T11:18:14.594266-05:00","closed_at":"2025-12-28T11:18:14.594266-05:00","close_reason":"Closed","labels":["client-portal","security","user-management"]}
{"id":"tsklets-cue.1","title":"User Management for Company Admins","description":"Company admins can create, view, and manage users within their organization.\n\nFeatures:\n- View all company users in a table/card layout\n- Create new users (email, name, role: user or company_admin)\n- Assign users to purchased products only\n- Reset user passwords to Systech@123 (sets requirePasswordChange flag)\n- User list shows: email, name, role, products, status\n\nPages:\n- /users - User management page (company_admin only)\n\nAPI Endpoints:\n- POST /api/users - Create user\n- GET /api/users - List all company users\n- PATCH /api/users/:id/reset-password - Reset password\n\nDatabase:\n- Add requirePasswordChange boolean to users table","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-28T11:09:29.716489-05:00","updated_at":"2025-12-28T11:18:14.527073-05:00","closed_at":"2025-12-28T11:18:14.527073-05:00","close_reason":"Closed","labels":["client-portal","user-management"],"dependencies":[{"issue_id":"tsklets-cue.1","depends_on_id":"tsklets-cue","type":"parent-child","created_at":"2025-12-28T11:09:29.720322-05:00","created_by":"daemon"}]}
{"id":"tsklets-cue.2","title":"Password Management \u0026 Security","description":"Force password changes on first login and implement strong password requirements.\n\nFeatures:\n- Password complexity validation (8 char, 1 upper, 1 lower, 1 number, 1 special)\n- Change password modal on first login (blocks dashboard access)\n- Password strength indicator (weak/medium/strong)\n- Current password verification\n- New password confirmation matching\n\nFlow:\n1. User logs in successfully\n2. Check requirePasswordChange flag\n3. If true, show change password modal (cannot dismiss)\n4. User enters current password + new password + confirm\n5. Validate password complexity\n6. Update password, clear flag\n7. Redirect to dashboard\n\nDefault Password: Systech@123\nTriggers: First login OR admin password reset","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-28T11:09:39.209846-05:00","updated_at":"2025-12-28T11:18:14.528562-05:00","closed_at":"2025-12-28T11:18:14.528562-05:00","close_reason":"Closed","labels":["client-portal","security"],"dependencies":[{"issue_id":"tsklets-cue.2","depends_on_id":"tsklets-cue","type":"parent-child","created_at":"2025-12-28T11:09:39.211694-05:00","created_by":"daemon"}]}
{"id":"tsklets-cue.3","title":"Enhanced Ticket Visibility for Company Admins","description":"Company admins see ALL tickets from their company, not just their own tickets.\n\nCurrent Behavior:\n- Users see only tickets they created (createdBy = userId)\n\nNew Behavior:\n- Regular users: See only their own tickets\n- Company admins: See ALL tickets from their company/client (same clientId)\n\nChanges:\n- Update GET /api/tickets to check user role\n- If company_admin: return all tickets where clientId matches\n- If user: return only tickets where createdBy matches\n- Update Dashboard recent tickets\n- Update My Tickets page\n\nBenefits:\n- Company admins have full visibility\n- Can manage team's support requests\n- Better oversight and coordination","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-28T11:09:47.85925-05:00","updated_at":"2025-12-28T11:18:14.529536-05:00","closed_at":"2025-12-28T11:18:14.529536-05:00","close_reason":"Closed","labels":["client-portal","permissions"],"dependencies":[{"issue_id":"tsklets-cue.3","depends_on_id":"tsklets-cue","type":"parent-child","created_at":"2025-12-28T11:09:47.8611-05:00","created_by":"daemon"}]}
{"id":"tsklets-cue.4","title":"Feature Request Workflow","description":"Allow clients to submit feature requests with proper vetting and approval workflow.\n\nClient Side:\n- Ticket type selection: 'Support Request' vs 'Feature Request'\n- Feature requests shown with special badge/icon\n- Track status via comments\n\nInternal Side (future):\n- Feature requests appear in internal portal with badge\n- CEO/BA reviews request\n- Creates quote and agreement\n- After approval, creates Requirements/Epics for devs\n- Client sees status updates via ticket comments\n\nDatabase:\n- Add 'type' field to tickets: ['support', 'feature_request']\n- Default: 'support'\n\nUI Changes:\n- NewTicket form: Type selection dropdown\n- My Tickets: Show type badge\n- Dashboard: Show type indicator\n- TicketDetail: Display type prominently","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-28T11:09:58.945991-05:00","updated_at":"2025-12-28T11:18:14.53053-05:00","closed_at":"2025-12-28T11:18:14.53053-05:00","close_reason":"Closed","labels":["client-portal","feature-requests","workflow"],"dependencies":[{"issue_id":"tsklets-cue.4","depends_on_id":"tsklets-cue","type":"parent-child","created_at":"2025-12-28T11:09:58.94748-05:00","created_by":"daemon"}]}
{"id":"tsklets-djh","title":"Fix Dashboard My Tickets Navigation Link","description":"Update Dashboard 'My Tickets' card to link to the correct /tickets route.\n\nCurrent Issue:\n- Dashboard has 'My Tickets' ModuleCard that links nowhere or to non-existent route\n- Clicking card leads to 404 or broken navigation\n\nSubtasks:\n□ Locate 'My Tickets' ModuleCard component in Dashboard.tsx\n□ Update href/onClick to navigate to /tickets route\n□ Ensure Link component from react-router-dom is used\n□ Test navigation from Dashboard → My Tickets page\n□ Verify card is clickable and visual feedback works (hover state)\n□ Check mobile touch interaction\n\nFiles to Modify:\n- frontend-tsklets/client/src/pages/Dashboard.tsx\n\nAcceptance Criteria:\n- Clicking 'My Tickets' card navigates to /tickets\n- Navigation works on desktop and mobile\n- Hover/active states work correctly\n- No console errors or warnings\n\nEstimated Time: 15 minutes\n\nNote: This task depends on My Tickets page being created first (tsklets-y7s feature)","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-28T10:20:06.807291-05:00","updated_at":"2025-12-28T10:33:37.434661-05:00","closed_at":"2025-12-28T10:33:37.434661-05:00","close_reason":"Dashboard already has correct navigation link to='/tickets'. Link will work once My Tickets page is created (tsklets-9cg)","labels":["client-portal","navigation","quick-fix"],"dependencies":[{"issue_id":"tsklets-djh","depends_on_id":"tsklets-maa","type":"blocks","created_at":"2025-12-28T10:20:22.423563-05:00","created_by":"daemon"}]}
{"id":"tsklets-e41","title":"Mobile-First Ticket Detail View Redesign","description":"Redesign Ticket Detail page with mobile-first approach for better readability and interaction on small screens.\n\nCurrent Issues:\n- Desktop sidebar layout doesn't work on mobile\n- Comments hard to read on small screens\n- Attachments grid cramped on mobile\n- Action buttons not touch-friendly\n\nMobile-First Design (320px - 767px):\nSubtasks:\n□ Single column layout (no sidebar)\n□ Collapsible sections for better space management\n□ Ticket info section (status, priority, severity) - collapsible\n□ Description section - always visible, expandable\n□ Attachments section - horizontal scrollable gallery\n□ Comments section - full width, chronological\n□ Add comment form - sticky at bottom\n□ Back button at top left (navigate to My Tickets)\n□ Share button at top right (copy link)\n□ Touch-friendly attachment gallery (swipeable)\n□ Image/video viewer with pinch-to-zoom\n□ Larger font sizes for readability (18px for description)\n□ Comment timestamp in relative format (\"2 hours ago\")\n□ Clear visual separation between comments\n\nTicket Header (Mobile):\n□ Sticky header with Issue Key and Status badge\n□ Back arrow button (44px tap target)\n□ Menu button for actions (Share, Close ticket, etc.)\n\nCollapsible Sections:\n□ Ticket Info (Priority, Severity, Created, Updated)\n□ Attachments (count badge shows number)\n□ Comments (count badge shows number)\n□ Each section expands/collapses with smooth animation\n\nComments (Mobile-Optimized):\n□ Full-width comment cards\n□ Larger avatar/icon (40px)\n□ Commenter name and role badge\n□ Timestamp in relative format\n□ Comment text with good line height (1.6)\n□ Reply button (future feature)\n□ Edit/Delete buttons for own comments\n\nAdd Comment Form (Mobile):\n□ Sticky at bottom (always visible)\n□ Auto-growing textarea\n□ Keyboard appears smoothly\n□ Send button inside textarea (right side)\n□ File attachment button (optional)\n□ Character count indicator\n\nAttachments Gallery (Mobile):\n□ Horizontal scrollable row\n□ Large thumbnails (120px)\n□ Swipe to scroll through images/videos\n□ Tap to open fullscreen viewer\n□ Pinch to zoom in viewer\n□ Swipe left/right to navigate in viewer\n□ Close button and counter (\"3 of 8\")\n\nTablet Design (768px - 1023px):\n□ Main content wider (600px max-width)\n□ Sidebar can appear on right (collapsible)\n□ Comments in wider cards\n□ Attachment grid (2-3 columns)\n\nDesktop Design (1024px+):\n□ Two-column layout (main content + sidebar)\n□ Comments thread on left\n□ Ticket properties on right sidebar\n□ Attachments in grid (3-4 columns)\n□ Mouse hover interactions\n\nFiles to Modify:\n- frontend-tsklets/client/src/pages/TicketDetail.tsx\n- frontend-tsklets/client/src/components/ImageModal.tsx (upgrade to MediaModal with pinch-zoom)\n\nMobile Gestures:\n- Swipe attachments horizontally\n- Pinch to zoom images/videos\n- Pull to refresh ticket (update status)\n- Long-press comment to copy text\n\nAccessibility:\n- Semantic HTML (article, section, aside)\n- ARIA labels for buttons\n- Focus management for keyboard users\n- Screen reader announcements\n\nAcceptance Criteria:\n- Works perfectly on 320px screens\n- All buttons minimum 44px tap targets\n- Comments easy to read (good spacing, font size)\n- Attachment gallery smooth and swipeable\n- Add comment form always accessible\n- Keyboard doesn't hide comment input\n- Image viewer with pinch-zoom works\n- Smooth animations and transitions\n- No horizontal scroll\n- iOS and Android tested\n\nEstimated Time: 6 hours","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-28T10:22:58.672194-05:00","updated_at":"2025-12-28T10:22:58.672194-05:00","labels":["client-portal","mobile-first","ticket-detail"],"dependencies":[{"issue_id":"tsklets-e41","depends_on_id":"tsklets-ypa","type":"blocks","created_at":"2025-12-28T10:23:24.200802-05:00","created_by":"daemon"}]}
{"id":"tsklets-ehb","title":"Enhanced File Upload with Cloud Storage Links","description":"Expand file upload capabilities to support videos and large file sharing via cloud links.\n\nCurrent Limitations:\n- Only images allowed (PNG, JPG, GIF)\n- 5MB file size limit\n- 5 file maximum\n\nNew Capabilities:\n- Support video files: .mp4, .mov, .webm, .avi\n- Support documents: .pdf, .txt, .log, .zip\n- Add optional 'Large File Link' field for Dropbox/OneDrive/Google Drive URLs\n- Increase file size limit to 10MB per file\n- Show file type icons in attachment grid\n- Video thumbnail preview\n- Display cloud link with clickable icon in attachments section\n\nTechnical:\n- Update file validation in NewTicket.tsx\n- Update backend /api/tickets/:id/attachments endpoint\n- Add largeFileLink field to ticket schema\n- Add file type detection and icon mapping","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-28T10:19:17.787876-05:00","updated_at":"2025-12-28T10:51:30.749817-05:00","closed_at":"2025-12-28T10:51:30.749817-05:00","close_reason":"Closed","labels":["client-portal","cloud-storage","file-upload"],"dependencies":[{"issue_id":"tsklets-ehb","depends_on_id":"tsklets-8cz","type":"blocks","created_at":"2025-12-28T10:19:29.222807-05:00","created_by":"daemon"}]}
{"id":"tsklets-g0q","title":"Client Portal - Internal Triage UI","description":"Client portal UI for internal triage workflow.\n\nSubtasks:\n- [ ] Internal triage queue view (pending_internal_review tickets)\n- [ ] Push to Systech button + confirmation modal\n- [ ] Escalate button + confirmation modal\n- [ ] Assign internally dropdown (select employee)\n- [ ] Resolve internally action\n- [ ] Close ticket permissions (reporter or company_admin only)\n- [ ] Show ticket status badges appropriately\n\nWatchers UI:\n- [ ] Watch/Unwatch button (add self as watcher)\n- [ ] Watchers list on ticket detail\n- [ ] Company_admin: Add watcher dropdown (company users + email input)\n- [ ] Remove watcher (company_admin or self)\n\nAcceptance Criteria:\n- Company_admins see internal triage queue\n- Push/Escalate flows work correctly\n- Employees can only close their own tickets\n- Visual distinction between internal vs Systech queue\n- Users can manage watchers","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-31T15:19:27.338491-05:00","updated_at":"2025-12-31T16:17:10.797718-05:00","closed_at":"2025-12-31T16:17:10.797718-05:00","close_reason":"Frontend triage UI complete","dependencies":[{"issue_id":"tsklets-g0q","depends_on_id":"tsklets-gnl","type":"blocks","created_at":"2025-12-31T15:19:52.728053-05:00","created_by":"rameshbabu"},{"issue_id":"tsklets-g0q","depends_on_id":"tsklets-400","type":"blocks","created_at":"2025-12-31T15:20:03.108344-05:00","created_by":"rameshbabu"}]}
{"id":"tsklets-gj1","title":"[Client Portal] Enable attachment upload on existing tickets","description":"Add UI for uploading new attachments to existing tickets in TicketDetail page. Backend POST /api/tickets/:id/attachments already supports this. Need to add upload button and dropzone in the attachments section.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-01T11:59:40.522892-05:00","updated_at":"2026-01-01T12:07:32.332263-05:00","closed_at":"2026-01-01T12:07:32.332263-05:00","close_reason":"Consolidating into feature-level beads"}
{"id":"tsklets-gjq","title":"Remove Save as Draft Button","description":"Remove the non-functional 'Save as Draft' button from NewTicket page to eliminate user confusion.\n\nSubtasks:\n□ Locate 'Save as Draft' button in NewTicket.tsx (around line 430)\n□ Remove button JSX code from component\n□ Remove any associated state variables (if any)\n□ Test form submission still works correctly\n□ Verify no console errors\n□ Update any comments referencing draft functionality\n\nFiles to Modify:\n- frontend-tsklets/client/src/pages/NewTicket.tsx\n\nAcceptance Criteria:\n- 'Save as Draft' button no longer visible\n- Form submission works normally\n- No broken UI or layout issues\n- No console errors\n\nEstimated Time: 10 minutes","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-28T10:19:53.431638-05:00","updated_at":"2025-12-28T10:32:55.360843-05:00","closed_at":"2025-12-28T10:32:55.360843-05:00","close_reason":"Closed","labels":["client-portal","quick-fix"],"dependencies":[{"issue_id":"tsklets-gjq","depends_on_id":"tsklets-maa","type":"blocks","created_at":"2025-12-28T10:20:06.736103-05:00","created_by":"daemon"}]}
{"id":"tsklets-gnl","title":"Client Internal Triage System","description":"# Client Internal Triage System\n\n## Problem Statement\nCurrently, all tickets go directly to Systech queue. Client companies (20-30 employees with 2-3 company_admins) need to triage internally first. Many issues can be resolved without Systech involvement. SLA should only start when the client decides Systech's help is needed.\n\n---\n\n## Ticket Flow\n\n```\n┌─────────────────────────────────────────────────────────────────────────┐\n│  CLIENT COMPANY                                                         │\n│                                                                         │\n│  Employee creates ticket                                                │\n│         │                                                               │\n│         ▼                                                               │\n│  ┌─────────────────────────────────────┐                                │\n│  │  Status: pending_internal_review    │  ← No SLA                      │\n│  │  Company_admin sees in queue        │                                │\n│  └─────────────┬───────────────────────┘                                │\n│                │                                                        │\n│       ┌────────┴────────┬─────────────────┐                             │\n│       ▼                 ▼                 ▼                             │\n│  ┌─────────┐      ┌───────────┐    ┌─────────────┐                      │\n│  │ Resolve │      │  Assign   │    │   Push to   │                      │\n│  │Internally│     │ Internally│    │   Systech   │                      │\n│  └────┬────┘      └─────┬─────┘    └──────┬──────┘                      │\n│       │                 │                 │                             │\n│       ▼                 ▼                 ├── Normal Push ────┐         │\n│  [closed +         [remains in            │                   │         │\n│   label:            internal review       └─ Escalate ───┐    │         │\n│   resolved_         with assignment]                     │    │         │\n│   internally]                                            ▼    ▼         │\n└──────────────────────────────────────────────────────────┼────┼─────────┘\n                                                           │    │\n┌──────────────────────────────────────────────────────────┼────┼─────────┐\n│  SYSTECH                                                 │    │         │\n│                                              ┌───────────┘    │         │\n│                                              ▼                ▼         │\n│                                     [open + label:       [open]         │\n│                                      escalated]           │             │\n│                                         │                 │             │\n│                                         └────────┬────────┘             │\n│                                                  │  ← SLA STARTS        │\n│                                                  ▼                      │\n│                                           [in_progress]                 │\n│                                                  │                      │\n│                               ┌──────────────────┼─────────────┐        │\n│                               ▼                  ▼             ▼        │\n│                     [reassign_to_      [waiting_for_     [rebuttal]     │\n│                      internal]          customer]             │         │\n│                          │                   │                │         │\n│                          │                   │                ▼         │\n│                          │                   │           [resolved]     │\n│                          │                   │                │         │\n│                          │                   └────────────────┤         │\n│                          │                                    │         │\n│                          │              5 days no response    │         │\n│                          │                        ▼           │         │\n│                          │             [closed + label:       │         │\n│                          │              auto_closed_no_resp]  │         │\n│                          │                                    │         │\n│                          └──────────────────┐                 │         │\n└─────────────────────────────────────────────┼─────────────────┼─────────┘\n                                              │                 │\n┌─────────────────────────────────────────────┼─────────────────┼─────────┐\n│  BACK TO CLIENT                             ▼                 │         │\n│                              [pending_internal_review]        │         │\n│                              SLA paused, back to client       │         │\n│                              triage queue                     │         │\n│                                                               │         │\n│                              Client closes ───────────────────┘         │\n└─────────────────────────────────────────────────────────────────────────┘\n```\n\n---\n\n## Statuses (7 total)\n\n| Status | Owner | Description |\n|--------|-------|-------------|\n| pending_internal_review | Client | New ticket, internal triage queue |\n| open | Systech | Pushed to Systech, SLA active |\n| in_progress | Systech | Systech actively working |\n| waiting_for_customer | Systech | Systech needs info from client |\n| rebuttal | Systech | Systech pushes back, needs discussion |\n| resolved | Systech | Fixed, waiting for client to close |\n| closed | Client | Ticket complete |\n\n---\n\n## Labels\n\n| Label | Purpose |\n|-------|---------|\n| escalated | Urgent, needs immediate attention (different from normal push) |\n| resolved_internally | Closed without Systech involvement |\n| auto_closed_no_response | Cron job closed after 5 days of resolved/waiting_for_customer |\n| internal_assignment | Assigned to employee for clarification |\n| created_by_systech | Systech created ticket on behalf of client |\n| reassigned_to_internal | Systech sent back to client for internal handling |\n\n---\n\n## Push vs Escalate\n\n| Action | Meaning | Result |\n|--------|---------|--------|\n| Push to Systech | Normal handoff, company_admin needs Systech help | Status → open, SLA starts |\n| Escalate | Urgent, needs immediate attention | Status → open + label: escalated, SLA starts, visual urgency |\n\n---\n\n## Escalation Reasons (required when escalating)\n\n| Reason | Description |\n|--------|-------------|\n| executive_request | Executive or management involvement |\n| production_down | Production system is down/critical |\n| compliance | Regulatory or compliance deadline |\n| customer_impact | Multiple customers affected |\n| other | Free text explanation required |\n\n---\n\n## Reassign to Internal (Systech action)\n\nWhen Systech determines a ticket should be handled internally by the client:\n\n1. Systech clicks \"Reassign to Internal\"\n2. Adds a comment explaining why\n3. Status → `pending_internal_review`\n4. Label `reassigned_to_internal` added\n5. SLA paused (no longer Systech's responsibility)\n6. Ticket appears back in company_admin's internal queue\n\n---\n\n## Rebuttal Flow\n\nWhen Systech disagrees or needs clarification before proceeding:\n\n1. Systech marks ticket as `rebuttal`\n2. Client reviews and either:\n   - Adds clarification → Systech moves to `in_progress`\n   - Agrees with rebuttal → Client closes ticket\n\n---\n\n## Permissions Matrix\n\n| Action | Employee | Company_Admin | Systech |\n|--------|----------|---------------|---------|\n| Create ticket | ✅ | ✅ | ✅ (on behalf) |\n| View company tickets | ✅ (all) | ✅ (all) | ✅ (all companies) |\n| Add comment | ✅ | ✅ | ✅ |\n| Assign internally | ❌ | ✅ | ❌ |\n| Push to Systech | ❌ | ✅ | ❌ |\n| Escalate (with reason) | ❌ | ✅ | ❌ |\n| Resolve internally | ❌ | ✅ | ❌ |\n| Change status (in_progress, etc.) | ❌ | ❌ | ✅ |\n| Reassign to internal | ❌ | ❌ | ✅ |\n| Close ticket | Own only | ✅ (any company) | ❌ |\n| Add watcher (user) | Self only | ✅ (company users) | Self only |\n| Add watcher (email) | ❌ | ✅ | ❌ |\n\n---\n\n## Watchers\n\n- **Purpose**: Track users/emails to notify when email/SMS is implemented\n- **Storage**: ticket_watchers table (user_id nullable, email for non-users)\n- **Scope**: Same company users + external emails (company_admin only)\n- **Notifications**: Deferred to future implementation\n\n---\n\n## SLA Rules\n\n| Event | SLA Timer |\n|-------|-----------|\n| Ticket created | ❌ Not started |\n| Pushed to Systech | ✅ SLA STARTS |\n| Escalated | ✅ SLA STARTS (with urgency flag) |\n| Reassigned to internal | ⏸️ SLA PAUSED |\n\n---\n\n## Auto-Close Cron\n\n- **Trigger**: 5 days after ticket is in `resolved` or `waiting_for_customer`\n- **Action**: Close ticket with label `auto_closed_no_response`\n- **Frequency**: Daily cron job\n\n---\n\n## Key Decisions Made\n\n1. All employees can see all company tickets (transparency)\n2. Systech can see all tickets anytime (no restrictions)\n3. Only client (reporter or company_admin) can close tickets\n4. Push is one-way (cannot take back from Systech)\n5. Escalation is a label, not a different SLA (someone follows up)\n6. Escalation requires a reason (dropdown + optional text)\n7. Systech can reassign back to internal if ticket shouldn't be with them\n8. Watchers tracked now, notifications implemented later","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-31T15:19:02.110042-05:00","updated_at":"2025-12-31T16:18:10.954517-05:00","closed_at":"2025-12-31T16:18:10.954517-05:00","close_reason":"Client Internal Triage System fully implemented"}
{"id":"tsklets-ifl","title":"[Client Portal] Integrate TicketDetailTabs with Changelog","description":"Integrate the new TicketDetailTabs component into TicketDetail.tsx page. Replace current content with tabbed layout showing Details and Changelog tabs. Components already created: TicketChangelog.tsx, TicketDetailTabs.tsx","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T11:59:34.182776-05:00","updated_at":"2026-01-01T12:07:32.331658-05:00","closed_at":"2026-01-01T12:07:32.331658-05:00","close_reason":"Consolidating into feature-level beads","dependencies":[{"issue_id":"tsklets-ifl","depends_on_id":"tsklets-p0w","type":"blocks","created_at":"2026-01-01T11:59:58.888903-05:00","created_by":"rameshbabu"}]}
{"id":"tsklets-jwm","title":"Update File Validation and Preview Components","description":"Enhance file validation logic and preview components to support all new file types with better UX.\n\nSubtasks:\n□ Create comprehensive file type mapping (images, videos, documents)\n□ Add file type icons (PDF, ZIP, TXT, LOG, etc.)\n□ Update file validation with clear error messages\n□ Add file size validation with human-readable messages (\"File too large: 15.2MB. Maximum: 10MB\")\n□ Create preview components for different file types\n□ Image preview: thumbnail grid (current)\n□ Video preview: video player icon or first frame\n□ Document preview: file icon with filename and size\n□ Add file removal confirmation dialog (\"Are you sure you want to remove this file?\")\n□ Show upload progress bar for each file\n□ Handle upload failures with retry option\n□ Add drag \u0026 drop zone for file upload\n□ Display total attachment size (\"3 files, 8.5MB total\")\n\nFile Type Icons:\n- Images: 🖼️ or camera icon\n- Videos: 🎥 or play icon  \n- PDF: 📄 or PDF icon\n- ZIP: 📦 or archive icon\n- TXT/LOG: 📝 or document icon\n\nError Messages:\n- File too large: \"File size exceeds 10MB limit\"\n- Invalid type: \"Unsupported file type. Allowed: images, videos, PDFs, ZIP, TXT\"\n- Too many files: \"Maximum 5 files allowed\"\n- Upload failed: \"Upload failed. Click to retry\"\n\nDrag \u0026 Drop:\n- Desktop: Dotted border drop zone with text \"Drag files here or click to browse\"\n- Mobile: Click to open file picker\n- Visual feedback on dragover (highlight border)\n\nFiles to Modify:\n- frontend-tsklets/client/src/pages/NewTicket.tsx\n- frontend-tsklets/client/src/components/ImageModal.tsx (refactor to MediaModal.tsx)\n\nOptional: Create utility functions\n- frontend-tsklets/client/src/utils/fileHelpers.ts\n  - getFileIcon(fileType)\n  - formatFileSize(bytes)\n  - validateFile(file, maxSize, allowedTypes)\n  - getFileExtension(filename)\n\nAcceptance Criteria:\n- All file types show correct icons\n- File validation provides clear error messages\n- Drag \u0026 drop works on desktop\n- Upload progress shows for each file\n- File removal requires confirmation\n- Preview components work for all file types\n- Total attachment size displays correctly\n- Mobile file picker works correctly\n\nEstimated Time: 3 hours","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-28T10:21:48.160065-05:00","updated_at":"2025-12-28T10:48:44.511892-05:00","closed_at":"2025-12-28T10:48:44.511892-05:00","close_reason":"Closed","labels":["client-portal","file-upload","validation"],"dependencies":[{"issue_id":"tsklets-jwm","depends_on_id":"tsklets-ehb","type":"blocks","created_at":"2025-12-28T10:22:08.22298-05:00","created_by":"daemon"}]}
{"id":"tsklets-lb6","title":"Add Pagination with Mobile-Optimized Controls","description":"Implement pagination for ticket list with mobile-friendly controls.\n\nSubtasks:\n□ Calculate total pages based on filtered tickets (20 per page)\n□ Add pagination state (currentPage, itemsPerPage)\n□ Slice tickets array for current page display\n□ Create pagination UI component (reusable)\n□ Desktop: Show page numbers (1 2 3 ... 10) with Prev/Next\n□ Mobile: Show simplified controls (Prev | Page X of Y | Next)\n□ Add keyboard navigation (arrow keys to change page)\n□ Scroll to top when page changes\n□ Update URL query param with current page (?page=2)\n□ Handle page number in URL on load\n□ Show results summary (\"Showing 1-20 of 145 tickets\")\n□ Disable Prev on first page, Next on last page\n□ Show loading state during page transition\n\nPagination UI:\nDesktop:\n[\u003c Prev] [1] [2] [3] ... [10] [Next \u003e]\n\nMobile:\n[\u003c Prev]  Page 2 of 10  [Next \u003e]\n\nTouch Targets:\n- Min 44px × 44px for buttons\n- Larger tap areas on mobile\n\nFiles to Modify:\n- frontend-tsklets/client/src/pages/MyTickets.tsx\n\nOptional: Create reusable component\n- frontend-tsklets/client/src/components/Pagination.tsx\n\nAcceptance Criteria:\n- Pagination works correctly (20 items per page)\n- Page navigation works via buttons and URL\n- Results summary shows correct counts\n- Mobile controls are touch-friendly (44px targets)\n- Keyboard navigation works (optional but nice)\n- Page state persists in URL\n- Scroll to top on page change\n- Loading state during transitions\n\nEstimated Time: 2 hours","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-28T10:20:52.028485-05:00","updated_at":"2025-12-28T10:51:30.684732-05:00","closed_at":"2025-12-28T10:51:30.684732-05:00","close_reason":"Closed","labels":["client-portal","mobile-first","pagination"],"dependencies":[{"issue_id":"tsklets-lb6","depends_on_id":"tsklets-y7s","type":"blocks","created_at":"2025-12-28T10:21:10.621059-05:00","created_by":"daemon"}]}
{"id":"tsklets-liq","title":"Developer Task \u0026 Sprint Management","description":"Internal dev task hierarchy (epic→feature→task/bug), sprint planning, capacity tracking, Kanban board, retrospectives. Integration with support tickets.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-27T12:39:07.519934-05:00","updated_at":"2025-12-27T12:39:07.519934-05:00"}
{"id":"tsklets-m6c","title":"[Client Portal] Make ticket list company-scoped for all users","description":"Modify GET /api/tickets endpoint to return all company tickets for regular users (currently only returns their own). Line 193-199 in tickets.ts needs to use clientId instead of createdBy for the where clause. This enables the 'everyone is equal' company dashboard vision.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T11:58:55.422529-05:00","updated_at":"2026-01-01T12:07:32.33009-05:00","closed_at":"2026-01-01T12:07:32.33009-05:00","close_reason":"Consolidating into feature-level beads"}
{"id":"tsklets-maa","title":"Quick Fixes \u0026 Critical Navigation","description":"Fix critical UX issues and broken navigation in client portal.\n\nIncludes:\n- Remove non-functional 'Save as Draft' button from NewTicket page\n- Fix Dashboard 'My Tickets' card link (currently points to non-existent route)\n- Update navigation structure to point to correct /tickets route\n\nImpact: Eliminates user confusion and fixes broken navigation flow\nEffort: Low (30 minutes)\nDependencies: None","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-28T10:18:49.72203-05:00","updated_at":"2025-12-28T10:51:30.752103-05:00","closed_at":"2025-12-28T10:51:30.752103-05:00","close_reason":"Closed","labels":["client-portal","navigation","quick-fix"],"dependencies":[{"issue_id":"tsklets-maa","depends_on_id":"tsklets-8cz","type":"blocks","created_at":"2025-12-28T10:18:55.93209-05:00","created_by":"daemon"}]}
{"id":"tsklets-nbh","title":"Internal Portal - Escalation \u0026 Rebuttal","description":"Internal portal UI for handling escalated tickets and rebuttal workflow.\n\nSubtasks:\n- [ ] Escalated badge/indicator on tickets\n- [ ] Show escalation reason on escalated tickets\n- [ ] Rebuttal status action button\n- [ ] Reassign to Internal action button (sends back to client)\n- [ ] 'Created by Systech' indicator\n- [ ] Filter by escalated tickets\n- [ ] Visual urgency for escalated items\n\nAcceptance Criteria:\n- Systech users clearly see escalated tickets with reason\n- Can mark tickets as rebuttal\n- Can reassign tickets back to internal queue\n- Can identify tickets created on behalf of clients\n- Filter/sort by escalation status","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-31T15:19:33.41523-05:00","updated_at":"2025-12-31T16:17:10.800132-05:00","closed_at":"2025-12-31T16:17:10.800132-05:00","close_reason":"Frontend triage UI complete","dependencies":[{"issue_id":"tsklets-nbh","depends_on_id":"tsklets-gnl","type":"blocks","created_at":"2025-12-31T15:19:57.917626-05:00","created_by":"rameshbabu"},{"issue_id":"tsklets-nbh","depends_on_id":"tsklets-400","type":"blocks","created_at":"2025-12-31T15:20:08.2956-05:00","created_by":"rameshbabu"}]}
{"id":"tsklets-p0w","title":"[Client Portal] Create ticketAuditLog table and changelog API","description":"Create new DB table ticketAuditLog to track all ticket changes. Fields: id, ticketId, changeType, userId, oldValue, newValue, metadata, createdAt. Add GET /api/tickets/:id/changelog endpoint. Modify PATCH /api/tickets/:id to log changes. This enables the Changelog tab feature.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T11:59:28.204477-05:00","updated_at":"2026-01-01T12:07:32.331021-05:00","closed_at":"2026-01-01T12:07:32.331021-05:00","close_reason":"Consolidating into feature-level beads"}
{"id":"tsklets-r64","title":"Implement Ticket Filters and Search","description":"Add comprehensive filtering and search capabilities to My Tickets page.\n\nSubtasks:\n□ Create filter section UI (mobile-first: collapsible on mobile, always visible on desktop)\n□ Add Status filter dropdown (All, Open, In Progress, Resolved, Closed)\n□ Add Priority filter dropdown (All, P1, P2, P3, P4)\n□ Add Date range picker (Created date: Last 7 days, Last 30 days, Last 90 days, All time, Custom)\n□ Add search input (searches subject and description with debounce)\n□ Create filter state management (useState or useReducer)\n□ Implement client-side filtering logic\n□ Add 'Clear All Filters' button\n□ Show active filter count badge\n□ Persist filters to URL query params for shareability\n□ Update ticket count when filters change\n□ Show 'No results' state when filters return empty\n\nFilter UI Layout:\nDesktop: Horizontal row with all filters visible\nMobile: Collapsible filter panel with button toggle\n\nSearch Features:\n- Debounced search (300ms delay)\n- Case-insensitive matching\n- Highlight search terms in results (optional)\n- Show search term in header (\"Showing results for 'keyword'\")\n\nFiles to Modify:\n- frontend-tsklets/client/src/pages/MyTickets.tsx\n\nAcceptance Criteria:\n- All filters work correctly (Status, Priority, Date, Search)\n- Filters can be combined (AND logic)\n- Clear button resets all filters\n- Filter state persists in URL\n- Filters work on mobile and desktop\n- Search is debounced and performant\n- Active filter count badge shows correctly\n\nEstimated Time: 3 hours","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-28T10:20:36.867756-05:00","updated_at":"2025-12-28T10:51:30.68295-05:00","closed_at":"2025-12-28T10:51:30.68295-05:00","close_reason":"Closed","labels":["client-portal","filtering","search"],"dependencies":[{"issue_id":"tsklets-r64","depends_on_id":"tsklets-y7s","type":"blocks","created_at":"2025-12-28T10:20:51.956595-05:00","created_by":"daemon"}]}
{"id":"tsklets-rjx","title":"[Client Portal] Update Dashboard to show company-wide view","description":"Update Dashboard.tsx to show company-oriented welcome message instead of user-specific. Change 'Welcome back, John' to 'Acme Corp Dashboard'. Stats should reflect all company tickets. Depends on ticket visibility change.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-01T11:59:46.993063-05:00","updated_at":"2026-01-01T12:07:32.332834-05:00","closed_at":"2026-01-01T12:07:32.332834-05:00","close_reason":"Consolidating into feature-level beads","dependencies":[{"issue_id":"tsklets-rjx","depends_on_id":"tsklets-m6c","type":"blocks","created_at":"2026-01-01T12:00:04.073646-05:00","created_by":"rameshbabu"}]}
{"id":"tsklets-sel","title":"Client Portal: Enhanced Tickets Page","description":"Upgrade Tickets page for company-wide collaborative use.\n\n## COMPLETED ✅\n- [x] Rename \"My Tickets\" → \"AllTickets\" (page and component)\n- [x] Remove duplicate header (use AppLayout header)\n- [x] Add Reporter filter dropdown\n- [x] Add Reporter column with avatar initials\n- [x] Add Comment Count column\n- [x] Add Attachment Count column\n- [x] Mobile card view updated with same info\n\n## REMAINING\nUI Enhancements:\n- [ ] Add columns: Last Comment By, Watcher Count, Days Open\n- [ ] Enable column sorting (click headers)\n\nQuick Actions (inline):\n- [ ] Quick comment button\n- [ ] Watch/Unwatch toggle\n- [ ] Change status dropdown (admin only)\n\nSaved Views (stretch goal):\n- [ ] \"My Created Tickets\" preset\n- [ ] \"Tickets I'm Watching\" preset\n- [ ] \"High Priority\" preset\n\nBulk Actions (stretch goal):\n- [ ] Multi-select with checkboxes\n- [ ] \"Watch Selected\" action\n- [ ] \"Export to CSV\" action\n\nDepends on: tsklets-1ea (company-scoped visibility) - DONE","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-01T12:08:09.386537-05:00","updated_at":"2026-01-01T16:20:34.135042-05:00","dependencies":[{"issue_id":"tsklets-sel","depends_on_id":"tsklets-1ea","type":"blocks","created_at":"2026-01-01T12:08:19.898477-05:00","created_by":"rameshbabu"}]}
{"id":"tsklets-u02","title":"Infrastructure \u0026 Deployment Pipeline","description":"Production deployment with Docker, nginx, PostgreSQL migration, S3/MinIO file storage, security hardening (helmet, CORS, rate limiting), monitoring and logging.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-27T12:39:08.405522-05:00","updated_at":"2025-12-27T12:39:08.405522-05:00"}
{"id":"tsklets-v8l","title":"Executive Dashboard \u0026 Reporting","description":"CTO/CEO dashboard with KPIs, ticket analytics, SLA compliance reports, customer health metrics, and feature request pipeline visibility.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-27T12:39:06.577815-05:00","updated_at":"2025-12-27T12:39:06.577815-05:00"}
{"id":"tsklets-vyt","title":"Client Portal Mobile-First Improvements - Use Cases","description":"Comprehensive use cases for client portal mobile-first improvements and file upload enhancement.\n\n═══════════════════════════════════════════════════════════════\nUSE CASE 1: Mobile User Creates Ticket with Screenshot\n═══════════════════════════════════════════════════════════════\nActor: Client user (on mobile phone)\nPrecondition: User logged in, on Dashboard\nTrigger: User encounters bug and wants to report it\n\nMain Flow:\n1. User taps 'Create Ticket' card on Dashboard\n2. New Ticket form slides up from bottom (bottom sheet)\n3. User taps 'Subject' field, types \"Login button not working\"\n4. Keyboard appears, form scrolls so input is visible\n5. User taps 'Description' field, types detailed description\n6. User selects Priority: P1 (High)\n7. User selects Severity: S2 (High)\n8. User taps camera icon to attach screenshot\n9. Mobile file picker opens\n10. User selects screenshot from gallery\n11. Image preview appears in horizontal scrollable row\n12. User taps 'Submit' button (sticky at bottom)\n13. Form validates (all required fields filled)\n14. Ticket created successfully, toast notification appears\n15. User redirected to Ticket Detail page\n16. Screenshot visible in attachments gallery\n\nAcceptance Criteria:\n✓ Form works on 320px screen (iPhone SE)\n✓ Keyboard doesn't hide input fields\n✓ Submit button always visible (sticky)\n✓ Image upload from mobile gallery works\n✓ Preview shows before submission\n✓ Success feedback clear and immediate\n\n═══════════════════════════════════════════════════════════════\nUSE CASE 2: Desktop User Uploads Large Video via Cloud Link\n═══════════════════════════════════════════════════════════════\nActor: Client user (on desktop)\nPrecondition: User logged in, has 50MB screen recording video\nTrigger: User needs to share video demonstrating issue\n\nMain Flow:\n1. User clicks 'Create Ticket' on Dashboard\n2. Modal appears centered on screen\n3. User fills Subject: \"Payment page freezes during checkout\"\n4. User fills Description with steps to reproduce\n5. User tries to upload 50MB video file directly\n6. Upload starts but is slow/times out\n7. User cancels upload\n8. User uploads video to Dropbox instead\n9. User copies Dropbox share link\n10. User pastes link into 'Large File Link' field\n11. System validates URL format\n12. Dropbox icon appears next to link field\n13. User clicks 'Submit'\n14. Ticket created with cloud link saved\n15. Support team can access video via Dropbox link\n16. Ticket Detail shows: [Dropbox Icon] screen-recording.mp4 [Open Link]\n\nAcceptance Criteria:\n✓ Large File Link field available\n✓ URL validation works (must be valid URL)\n✓ Cloud provider detected (Dropbox, OneDrive, Google Drive)\n✓ Correct icon displayed\n✓ Link clickable and opens in new tab\n✓ Copy button copies link to clipboard\n\n═══════════════════════════════════════════════════════════════\nUSE CASE 3: Mobile User Filters Tickets to Find Specific Issue\n═══════════════════════════════════════════════════════════════\nActor: Client user (on mobile phone)\nPrecondition: User has 50+ tickets created over time\nTrigger: User wants to find specific open ticket about payment\n\nMain Flow:\n1. User taps 'My Tickets' card on Dashboard\n2. My Tickets page loads with all tickets (paginated)\n3. User sees 20 most recent tickets as cards\n4. User taps 'Filters' button (expands filter panel)\n5. User selects Status: 'Open'\n6. User selects Priority: 'P1'\n7. User types \"payment\" in search field\n8. Results filter in real-time (debounced 300ms)\n9. 3 tickets match criteria\n10. User taps desired ticket card\n11. Navigates to Ticket Detail page\n\nAlternative Flow (Clear Filters):\n8a. User taps 'Clear All Filters' button\n8b. All filters reset, full ticket list reappears\n\nAcceptance Criteria:\n✓ Filter panel collapsible on mobile\n✓ Status, Priority, Search filters work\n✓ Filters combine with AND logic\n✓ Results update in real-time\n✓ Filter state persists in URL\n✓ Clear button resets all filters\n✓ Active filter count badge displays\n\n═══════════════════════════════════════════════════════════════\nUSE CASE 4: Tablet User Views Ticket and Adds Comment\n═══════════════════════════════════════════════════════════════\nActor: Client user (on iPad)\nPrecondition: User logged in, ticket exists with ID: TSKLTS-T042\nTrigger: User receives email notification about ticket update\n\nMain Flow:\n1. User taps notification link\n2. Ticket Detail page loads on iPad (768px width)\n3. Page shows ticket in two-column layout\n4. Left: Ticket description, comments, add comment form\n5. Right: Sidebar with ticket properties (status, priority, etc.)\n6. User reads description and existing comments\n7. User scrolls to bottom, sees 'Add Comment' section\n8. User taps textarea, keyboard appears\n9. User types response: \"Thank you, that fixed the issue!\"\n10. User taps 'Send' button\n11. Comment submitted successfully\n12. New comment appears in thread immediately\n13. Support team sees notification of new comment\n\nAcceptance Criteria:\n✓ Ticket loads correctly on tablet (768px)\n✓ Two-column layout works well\n✓ Comments chronological and readable\n✓ Add comment form accessible\n✓ Keyboard doesn't hide textarea\n✓ Comment appears immediately after submit\n✓ Timestamp shows as relative (\"Just now\")\n\n═══════════════════════════════════════════════════════════════\nUSE CASE 5: Mobile User Views Attachment in Fullscreen Gallery\n═══════════════════════════════════════════════════════════════\nActor: Client user (on mobile phone)\nPrecondition: Ticket has 8 image/video attachments\nTrigger: User wants to view attachments in detail\n\nMain Flow:\n1. User on Ticket Detail page\n2. Attachments section shows horizontal scrollable gallery\n3. User swipes left/right to browse thumbnails\n4. User taps thumbnail of screenshot #5\n5. Fullscreen viewer opens with image\n6. Counter shows \"5 of 8\" at top\n7. User pinches to zoom into specific area\n8. User pans around zoomed image\n9. User swipes left to view next image (#6)\n10. User swipes right to go back (#5)\n11. User taps close button to exit viewer\n12. Returns to Ticket Detail page, scrolled to attachments\n\nAlternative Flow (Video):\n5a. User taps video thumbnail\n5b. Fullscreen video player opens\n5c. User taps play button\n5d. Video plays with controls (play/pause, scrub, volume)\n5e. User taps close to exit\n\nAcceptance Criteria:\n✓ Attachment gallery swipeable horizontally\n✓ Tap opens fullscreen viewer\n✓ Pinch-to-zoom works on images\n✓ Swipe navigation between attachments\n✓ Counter shows current position (\"X of Y\")\n✓ Videos play in viewer with controls\n✓ Close button returns to ticket (preserves scroll)\n\n═══════════════════════════════════════════════════════════════\nUSE CASE 6: Desktop User Navigates Between Pages\n═══════════════════════════════════════════════════════════════\nActor: Client user (on desktop)\nPrecondition: User logged in\nTrigger: User wants to check all tickets and dashboard\n\nMain Flow:\n1. User on Dashboard page\n2. User clicks 'My Tickets' card\n3. Navigates to /tickets (My Tickets page)\n4. User sees full list of tickets in table format\n5. User filters by Status: 'In Progress'\n6. User clicks ticket row \"TSKLTS-T042\"\n7. Navigates to Ticket Detail page\n8. User reads ticket and comments\n9. User clicks browser back button\n10. Returns to My Tickets page with filters preserved\n11. User clicks Dashboard link in header\n12. Returns to Dashboard\n13. Recent tickets section shows latest 5 tickets\n\nAcceptance Criteria:\n✓ All navigation links work correctly\n✓ Back button preserves filter state\n✓ URL changes reflect current page\n✓ No broken links or 404 errors\n✓ Dashboard accessible from all pages\n✓ Ticket list shows correct filtered results\n\n═══════════════════════════════════════════════════════════════\nUSE CASE 7: Mobile User Creates Ticket Without Draft (Removed)\n═══════════════════════════════════════════════════════════════\nActor: Client user (on mobile phone)\nPrecondition: User logged in, on New Ticket form\nTrigger: User starts filling ticket but gets interrupted\n\nPrevious Flow (Confusing):\n1. User fills Subject and partial Description\n2. User sees 'Save as Draft' button\n3. User taps button expecting to save progress\n4. Nothing happens (button non-functional)\n5. User confused and frustrated\n6. User closes form, loses all progress\n\nNew Flow (Fixed):\n1. User fills Subject and partial Description\n2. User gets phone call, needs to leave\n3. NO 'Save as Draft' button visible (removed)\n4. User closes form (knows work won't be saved)\n5. User returns later, starts fresh ticket\n6. OR: User completes ticket in one session\n\nAcceptance Criteria:\n✓ 'Save as Draft' button removed from UI\n✓ No false expectation of draft functionality\n✓ Form submission works normally\n✓ No confusing non-functional buttons\n✓ Clean, straightforward UX\n\n═══════════════════════════════════════════════════════════════\nUSE CASE 8: Mobile User Tests All Touch Interactions\n═══════════════════════════════════════════════════════════════\nActor: QA tester / Client user (on mobile phone - iPhone SE 320px)\nPrecondition: Client portal fully implemented\nTrigger: User testing all mobile interactions\n\nTest Scenarios:\n1. Dashboard Tap Targets\n   □ Tap 'Create Ticket' card → Opens New Ticket form\n   □ Tap 'My Tickets' card → Navigates to /tickets\n   □ Tap stat card → No action (visual only)\n   □ All buttons min 44px × 44px\n\n2. New Ticket Touch Interactions\n   □ Tap input field → Keyboard appears, field visible\n   □ Tap outside keyboard → Keyboard dismisses\n   □ Tap camera icon → File picker opens\n   □ Swipe through file previews → Horizontal scroll\n   □ Tap file preview → Remove confirmation\n   □ Tap Submit → Validation or submission\n   \n3. My Tickets Gestures\n   □ Swipe ticket card → No action (tap only)\n   □ Tap ticket card → Navigates to detail\n   □ Tap filter button → Panel expands\n   □ Tap pagination next → Loads next page\n   □ Pull to refresh → Reloads ticket list (optional)\n\n4. Ticket Detail Touch Interactions\n   □ Swipe attachment gallery → Horizontal scroll\n   □ Tap attachment → Opens fullscreen viewer\n   □ Pinch image → Zooms in/out\n   □ Double-tap image → Zoom to fit\n   □ Swipe in viewer → Navigate between attachments\n   □ Tap textarea → Keyboard appears, textarea visible\n   □ Long-press comment → Copy option (optional)\n\nAcceptance Criteria:\n✓ All touch targets minimum 44px × 44px\n✓ Touch feedback visible (button press states)\n✓ Gestures feel natural and responsive\n✓ No accidental taps due to spacing\n✓ Keyboard handling smooth\n✓ Swipe gestures work in galleries\n\n═══════════════════════════════════════════════════════════════\nUSE CASE 9: Client Admin Manages Multiple Users' Tickets\n═══════════════════════════════════════════════════════════════\nActor: Company admin (client user with admin role)\nPrecondition: Admin logged in, multiple users in company\nTrigger: Admin wants to see all company tickets\n\nCurrent Scope:\n- My Tickets shows only logged-in user's tickets\n- Admin sees their own tickets only\n\nFuture Enhancement (Not in current scope):\n1. Admin toggles 'View All Company Tickets'\n2. My Tickets shows tickets from all company users\n3. Admin can filter by user (assignee)\n4. Admin can reassign tickets to other users\n5. Admin can close tickets on behalf of users\n\nAcceptance Criteria (Current):\n✓ Admin can create tickets for their company\n✓ Admin sees their own tickets in My Tickets\n✓ Admin role stored in user object\n✓ Foundation for future admin features\n\nNote: Full admin features (view all, reassign) are P2 priority for future sprint\n\n═══════════════════════════════════════════════════════════════\nUSE CASE 10: Performance Testing on Slow Network\n═══════════════════════════════════════════════════════════════\nActor: User (on slow 3G connection)\nPrecondition: User logged in, slow network (3G throttled)\nTrigger: User navigates client portal on poor network\n\nTest Scenarios:\n1. Dashboard Load\n   □ Initial page load \u003c 3 seconds on 3G\n   □ Skeleton loaders show during fetch\n   □ Stats load progressively\n   □ Images lazy-load as user scrolls\n   \n2. Ticket List Load\n   □ List loads within 2 seconds\n   □ Pagination reduces payload (20 per page)\n   □ Images don't load until scrolled into view\n   □ No blocking requests\n\n3. File Upload\n   □ Upload progress indicator shows\n   □ User can cancel slow uploads\n   □ Retry option if upload fails\n   □ Timeout after 60 seconds with error message\n\n4. Network Failure Handling\n   □ Offline detection shows friendly message\n   □ API errors show retry button\n   □ Cached data displayed when offline (optional)\n   □ Auto-retry on reconnection (optional)\n\nAcceptance Criteria:\n✓ Dashboard loads \u003c 3s on 3G\n✓ Skeleton loaders show during loading\n✓ Images lazy-load\n✓ Upload progress visible\n✓ Retry button on failures\n✓ Friendly error messages\n✓ No blank screens or infinite loading\n\n═══════════════════════════════════════════════════════════════\nSUMMARY\n═══════════════════════════════════════════════════════════════\nTotal Use Cases: 10\n\nCritical User Flows:\n1. Mobile ticket creation with screenshots ✓\n2. Large file sharing via cloud links ✓\n3. Ticket filtering and search ✓\n4. Comment thread interaction ✓\n5. Attachment gallery viewing ✓\n6. Cross-page navigation ✓\n7. Draft button confusion resolved ✓\n8. Touch interaction testing ✓\n9. Admin ticket management (future) ⏰\n10. Performance on slow networks ✓\n\nAll use cases designed with mobile-first approach and tested on minimum 320px width (iPhone SE).","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-28T10:24:43.992687-05:00","updated_at":"2025-12-28T10:24:43.992687-05:00","labels":["client-portal","mobile-first","use-cases"],"dependencies":[{"issue_id":"tsklets-vyt","depends_on_id":"tsklets-8cz","type":"blocks","created_at":"2025-12-28T10:24:50.293978-05:00","created_by":"daemon"}]}
{"id":"tsklets-y7s","title":"My Tickets Page with Advanced Filtering","description":"Create comprehensive ticket list page with advanced filtering, search, and pagination.\n\nFeatures:\n- Full ticket list view at /tickets route\n- Filter by: Status (All, Open, In Progress, Resolved, Closed)\n- Filter by: Priority (All, P1, P2, P3, P4)\n- Filter by: Date range (Created date)\n- Search by: Subject and description (real-time search)\n- Pagination: 20 tickets per page with mobile-friendly controls\n- Click ticket row to navigate to detail page\n- Show ticket count per filter\n- Empty state when no tickets match filters\n\nDesign: Mobile-first with responsive table → card layout\nTech Stack: React, Tailwind, Framer Motion for animations\nAPI Endpoint: GET /api/tickets with query params for filters","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-28T10:19:05.691451-05:00","updated_at":"2025-12-28T10:51:30.751075-05:00","closed_at":"2025-12-28T10:51:30.751075-05:00","close_reason":"Closed","labels":["client-portal","filtering","mobile-first"],"dependencies":[{"issue_id":"tsklets-y7s","depends_on_id":"tsklets-8cz","type":"blocks","created_at":"2025-12-28T10:19:17.717303-05:00","created_by":"daemon"}]}
{"id":"tsklets-y86","title":"Add Large File Cloud Storage Link Field","description":"Add optional field for Dropbox/OneDrive/Google Drive links when files are too large to upload directly.\n\nUse Case:\n- Client has 50MB screen recording video\n- Direct upload too slow or times out\n- Client uploads to Dropbox and shares link\n- Support team can access file via cloud link\n\nSubtasks:\n□ Add 'Large File Link' input field to NewTicket form\n□ Add label: 'Or share a link to Dropbox/OneDrive/Google Drive for large files'\n□ Add URL validation (must be valid URL format)\n□ Support multiple cloud storage providers (Dropbox, OneDrive, Google Drive, WeTransfer)\n□ Add cloud storage link to ticket POST request body\n□ Update backend schema: tickets table add largeFileLink TEXT field\n□ Display cloud link in ticket detail page\n□ Show cloud provider icon (Dropbox, OneDrive, Google Drive) based on URL\n□ Make link clickable with external link icon\n□ Add copy link button for easy sharing\n□ Handle empty state (no link provided)\n\nUI Design:\nDesktop: Text input with cloud icon prefix\nMobile: Full-width input with touch-friendly size\n\nLink Display in Ticket Detail:\n[Dropbox Icon] Large File: shared-file-name.mp4 [Open Link] [Copy]\n\nCloud Provider Detection:\n- dropbox.com → Dropbox icon\n- onedrive.com or 1drv.ms → OneDrive icon\n- drive.google.com → Google Drive icon\n- wetransfer.com → WeTransfer icon\n- Default → Generic link icon\n\nFiles to Modify:\nFrontend:\n- frontend-tsklets/client/src/pages/NewTicket.tsx (add input field)\n- frontend-tsklets/client/src/pages/TicketDetail.tsx (display link)\n\nBackend:\n- backend-tsklets/api/src/db/schema.ts (add largeFileLink field)\n- backend-tsklets/api/src/routes/tickets.ts (handle in POST/GET)\n\nDatabase Migration:\n- Run: npm run db:push\n\nAcceptance Criteria:\n- Large File Link field available on NewTicket form\n- URL validation prevents invalid links\n- Cloud provider icon displays correctly\n- Link opens in new tab when clicked\n- Copy button copies link to clipboard\n- Field is optional (not required)\n- Works on mobile and desktop\n\nEstimated Time: 2 hours","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-28T10:21:28.932986-05:00","updated_at":"2025-12-28T10:47:03.497516-05:00","closed_at":"2025-12-28T10:47:03.497516-05:00","close_reason":"Closed","labels":["client-portal","cloud-storage","file-upload"],"dependencies":[{"issue_id":"tsklets-y86","depends_on_id":"tsklets-ehb","type":"blocks","created_at":"2025-12-28T10:21:48.088849-05:00","created_by":"daemon"}]}
{"id":"tsklets-ypa","title":"Mobile-First Responsive Design System","description":"Redesign all client portal pages using mobile-first approach for optimal experience on smartphones and tablets.\n\nTarget Breakpoints:\n- Mobile: 320px (iPhone SE) - 767px\n- Tablet: 768px - 1023px\n- Desktop: 1024px+\n\nPages to Redesign:\n1. Dashboard - Card grid layout that stacks on mobile\n2. New Ticket - Single column form with touch-friendly inputs\n3. Ticket Detail - Responsive sidebar and comment thread\n4. My Tickets - Table → Card list transformation on mobile\n\nMobile-First Design Principles:\n- Touch targets min 44px × 44px\n- Readable font sizes (16px minimum for body text)\n- Thumb-friendly navigation at bottom\n- No horizontal scroll\n- Optimized images and lazy loading\n- Swipe gestures for image galleries\n- Bottom sheet modals instead of center modals\n\nTesting Devices:\n- iPhone SE (320px)\n- iPhone 13 (390px)\n- iPad (768px)\n- Desktop (1024px+)\n\nTechnical:\n- Tailwind breakpoint strategy: mobile-first (sm:, md:, lg:)\n- Framer Motion gesture support\n- Touch event handling\n- Viewport meta tag optimization","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-28T10:19:29.293427-05:00","updated_at":"2025-12-28T10:19:29.293427-05:00","labels":["client-portal","design-system","mobile-first","responsive"],"dependencies":[{"issue_id":"tsklets-ypa","depends_on_id":"tsklets-8cz","type":"blocks","created_at":"2025-12-28T10:19:41.971778-05:00","created_by":"daemon"}]}
